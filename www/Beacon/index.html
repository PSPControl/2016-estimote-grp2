<html>
<head>
		<meta charset="UTF-8" />
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<script src="js/jquery-3.1.1.min.js"></script>
		<script type="text/javascript">
			var dataurl = "php/data.php";
			var defaultRefreshRate = 2000;
			var refreshRate = defaultRefreshRate;
			var datawrapperName = "#beacondataWrapper";
			var refreshrateWrapperName = "#refreshRateField";
			var timer;
			var autorefresh = false;
			$(document).ready(function(){
				setInterval(getData(), refreshRate);
			});
			function getData(){
				$.ajax({
					url:"php/data.php",
					type: "GET",
					dataType: "html",
					success: function(html){
						$(datawrapperName).html(html);
					}
				});
			}
			function updateSwitch(obj){
				alert(obj.checked);
				if(obj.checked){
					timer = setInterval(refresh, refreshRate);
				}else{
					clearInterval(timer);
				}
			}
			function refresh(){
				$(datawrapperName).load(url);
			}
			function refreshRateChanged(obj){
				refreshRate = $(refreshrateWrapperName).val();
				clearInterval(timer);
				timer = setInterval(refresh, refreshRate);
			}
		</script>
</head>
<body>
<h1 class="header">Beacon project</h1>
<h2 class="header2">Group 2<br/>Tatu Piippo, Jiska Parrila, Petri Virkkunen, Pauli Huttunen</h2>

<div class="beacondataWrapper" id="beacondataWrapper">
</div>

</body>
</html>